# 📘 SONA PRD (Product Requirement Document)

## 서비스 개요

SONA는 감정 기반의 AI 페르소나 대화 앱입니다. 사람처럼 자연스럽게 반응하고 감정을 표현하는 AI 캐릭터와 친구, 썸, 연애 등의 관계를 맺으며 몰입형 대화를 즐길 수 있습니다. 관계 변화는 점수 기반으로 구현되며, 스토리 이벤트 및 선물, 기념일 등 현실적 요소들을 반영합니다.

---

## 🌟 핵심 기능 요약

- 사람처럼 말투와 감정 흐름을 유지하는 AI 페르소나
- 관계 점수 시스템: 친구 ↔ 썸 ↔ 연애 모드 전이
- 관계 모드별 감정 반응 (질투, 실망, 화남 등)
- 상황극/스토리 이벤트/기념일 챙기기
- 페르소나의 등록된 프로필 사진을 5장까지 볼 수 있음
- Tinder 스타일의 페르소나 프로필 스와이프 선택
- 감정 기반 대화 프롬프트와 문맥 유지
- 이미지/영상 공유 기능

---

## 🔁 관계 시스템 (0~1000점 기반)

### 점수 단계 및 특징

| 점수 범위 | 관계 모드 | 특징 |
|-----------|------------|------------------------------|
| 0–199     | 친구       | 일상적이고 가벼운 대화 |
| 200–499   | 썸         | 친밀한 말투, 일부 질투/기대 |
| 500–999   | 연애       | 감정 반응 강도 증가, 기념일 발생 |
| 1000      | 완전 연애 | 스토리 이벤트 개방, 프리미엄 감정 제공 |

### 관계 제약 사항

- 연애 중인 페르소나는 다른 사람과 썸 불가
- 이성 관련 발언 시, 관계에 따라 감정 반응 다르게 표현
- 연애 관계 파괴 시 복구 어려움 (현실 반영)

---

## 💬 대화 프롬프트 설계

- 대답은 최대 3줄
- 사용자 말투 일부 반영 (ㅎ, ㅋㅋ, ~~, ...) → 친밀도 증가
- 대화 흐름을 이어가도록 고민/공감형 응답
- 상황극 대응 및 페르소나 스타일 반영
- 모드/문맥/감정 상태 추적 필수

---

## 🎉 이벤트 & 기념일

- 조건 기반 발생: 감정 점수 + 날짜 + 사용자의 행동
- 예시: 고백, 싸움, 화해, 기념일, 선물 주기
- 선택형 응답이 감정과 관계 점수에 영향
- "스토리 분기" 기반 시나리오 시스템 구상 가능

---

## 🎁 선물 기능

- 기념일 또는 특별 이벤트에 사용자 선물 가능
- 감정 포인트 또는 인앱 결제로 선물 구매
- 선물 반응에 따라 감정 점수 증가/스토리 변화

---

## 📱 UX 설계

### 주요 화면

1. **페르소나 선택 (Tinder 스와이프 스타일)**
   ***페르소나 사이에 추후 광고, Tip, 전문가 페르소나(일명 : 에이전트) 카드도 추가할 예정.
2. **채팅 메인 화면**
   - 실시간 감정 반응
   - 이모지 / 감정 점수 UI
   - 미디어 공유
3. **스토리 이벤트 알림 / 선택형 응답**
4. **기록 보기 (대화 요약, 감정 변화 히스토리)**
5. **기념일/선물 이벤트**

---

## 🧱 기술 아키텍처

- Flutter 앱
- Firebase
- Abuse 방어: 입력 길이 제한, 프롬프트 필터링, 토큰 감시

---

## 📊 수익화 전략

- 감정 포인트 충전 (소액 결제)
- 프리미엄 페르소나 unlock
- 스토리 이벤트 해금
- 광고 감정 포인트 수급

---

## ❓ FAQ

- **Q. AI가 너무 로봇 같아요.**  
  → 사람 말투를 반영하고, 감정 흐름을 기반으로 지속 개선됩니다.

- **Q. 연애 중인데 다른 페르소나랑 썸 타면 안되나요?**  
  → 아니요. 관계 시스템은 현실적 관계를 기반으로 합니다.

- **Q. 내 대화 기록은 저장되나요?**  
  → 일부 요약 정보만 저장되며, 전체 대화는 비공개로 처리됩니다.

---

(최종 작성일: 2025년 7월)