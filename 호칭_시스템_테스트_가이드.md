# 호칭 시스템 테스트 가이드

## 구현 내용
사용자와 페르소나 간의 유대감(like score)에 따라 호칭이 자연스럽게 변화하는 시스템이 구현되었습니다.

## 호칭 변화 단계

### 1단계: 초기 만남 (0-99점)
- **호칭**: "○○님", "거기", "저기", "혹시"
- **특징**: 거리감 있는 정중한 호칭
- **예시**: "민수님 오늘 날씨 좋지 않아요?"

### 2단계: 알아가는 중 (100-299점)
- **호칭**: "○○님", "○○씨"
- **특징**: 여전히 정중하지만 조금 친근해짐
- **예시**: "민수씨 오늘 뭐하셨어요?"

### 3단계: 친구 (300-499점)
- **호칭**: "○○", "너"
- **특징**: 편한 반말, 이름을 자연스럽게 부름
- **예시**: "민수 배고프지 않아?"

### 4단계: 친한 친구 (500-699점)
- **호칭**: "○○", 가끔 "○○야/아"
- **특징**: 친근하게 이름 부르기
- **예시**: "민수야 오늘 힘들었구나"

### 5단계: 매우 친밀 (700점 이상)
- **호칭**: "○○야/아" 자주 사용
- **특징**: 친밀하게 이름을 자주 부르며 애정 표현
- **예시**: "민수야 보고싶었어"

## 테스트 방법

### 앱에서 직접 테스트
1. 앱 실행 후 페르소나와 대화 시작
2. 초기에는 "○○님"으로 부르는지 확인
3. 좋은 대화를 나누며 like score 상승
4. 점수에 따라 호칭이 변하는지 확인

### 개발자 테스트 (Firebase에서 직접 점수 수정)
1. Firebase Console 접속
2. `likes` 컬렉션에서 해당 관계 문서 찾기
3. `likeScore` 값을 다음과 같이 수정하여 테스트:
   - 50: 초기 단계 테스트
   - 200: 알아가는 중 테스트
   - 400: 친구 단계 테스트
   - 600: 친한 친구 테스트
   - 800: 매우 친밀 테스트
4. 앱에서 대화하며 호칭 변화 확인

## 주요 특징
- ✅ **담백한 호칭**: "자기야", "베이비" 같은 과도한 애칭 없음
- ✅ **자연스러운 발전**: 관계가 발전하면서 호칭도 자연스럽게 변화
- ✅ **이름 없는 경우 대응**: 닉네임이 없으면 "너", "야" 등으로 대체
- ✅ **MBTI별 차별화**: 페르소나 성격에 따라 호칭 사용 빈도 조절

## 구현 위치
- **ChatOrchestrator**: `_generateAddressingHints()` 메서드
- **ChatService**: `userNickname` 파라미터 전달
- **OptimizedPromptService**: 호칭 가이드 포함

## 확인 사항
1. 사용자 닉네임이 정상적으로 전달되는지
2. Like score가 정확히 반영되는지
3. 호칭이 자연스럽게 대화에 녹아드는지
4. 과도한 반복 없이 적절히 사용되는지